{"version":3,"sources":["../../../../../../../src/webgpu/shader/execution/expression/call/builtin/select.spec.ts"],"names":["description","makeTestGroup","GPUTest","TypeVec","TypeBool","TypeF32","TypeI32","TypeU32","f32","i32","u32","False","True","bool","vec2","vec3","vec4","run","builtin","g","makeBool","n","dataType","b","type","constructor","f","i","u","test","specURL","desc","params","combine","fn","t","componentType","component","cons","c","map","v2a","v2b","v3a","v3b","v4a","v4b","overloads","scalar","cases","input","expected","overload","T","F","tests","a","boolType","x","y","z","w"],"mappings":"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","sourcesContent":["export const description = `\nExecution tests for the 'select' builtin function\n\nT is scalar, abstract numeric type, or vector\n@const fn select(f: T, t: T, cond: bool) -> T\nReturns t when cond is true, and f otherwise.\n\nT is scalar or abstract numeric type\n@const fn select(f: vecN<T>, t: vecN<T>, cond: vecN<bool>) -> vecN<T>\nComponent-wise selection. Result component i is evaluated as select(f[i],t[i],cond[i]).\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { GPUTest } from '../../../../../gpu_test.js';\nimport {\n  VectorType,\n  TypeVec,\n  TypeBool,\n  TypeF32,\n  TypeI32,\n  TypeU32,\n  f32,\n  i32,\n  u32,\n  False,\n  True,\n  bool,\n  vec2,\n  vec3,\n  vec4,\n} from '../../../../../util/conversion.js';\nimport { run, CaseList } from '../../expression.js';\n\nimport { builtin } from './builtin.js';\n\nexport const g = makeTestGroup(GPUTest);\n\nfunction makeBool(n: number) {\n  return bool((n & 1) === 1);\n}\n\ntype scalarKind = 'b' | 'f' | 'i' | 'u';\n\nconst dataType = {\n  b: {\n    type: TypeBool,\n    constructor: makeBool,\n  },\n  f: {\n    type: TypeF32,\n    constructor: f32,\n  },\n  i: {\n    type: TypeI32,\n    constructor: i32,\n  },\n  u: {\n    type: TypeU32,\n    constructor: u32,\n  },\n};\n\ng.test('scalar')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`scalar tests`)\n  .params(u =>\n    u\n      .combine('storageClass', ['uniform', 'storage_r', 'storage_rw'] as const)\n      .combine('component', ['b', 'f', 'i', 'u'] as const)\n      .combine('overload', ['scalar', 'vec2', 'vec3', 'vec4'] as const)\n  )\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from, either as scalars\n    // or vectors.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    // Now form vectors that will have different components from each other.\n    const v2a = vec2(c[0], c[1]);\n    const v2b = vec2(c[4], c[5]);\n    const v3a = vec3(c[0], c[1], c[2]);\n    const v3b = vec3(c[4], c[5], c[6]);\n    const v4a = vec4(c[0], c[1], c[2], c[3]);\n    const v4b = vec4(c[4], c[5], c[6], c[7]);\n\n    const overloads = {\n      scalar: {\n        type: componentType,\n        cases: [\n          { input: [c[0], c[1], False], expected: c[0] },\n          { input: [c[0], c[1], True], expected: c[1] },\n        ],\n      },\n      vec2: {\n        type: TypeVec(2, componentType),\n        cases: [\n          { input: [v2a, v2b, False], expected: v2a },\n          { input: [v2a, v2b, True], expected: v2b },\n        ],\n      },\n      vec3: {\n        type: TypeVec(3, componentType),\n        cases: [\n          { input: [v3a, v3b, False], expected: v3a },\n          { input: [v3a, v3b, True], expected: v3b },\n        ],\n      },\n      vec4: {\n        type: TypeVec(4, componentType),\n        cases: [\n          { input: [v4a, v4b, False], expected: v4a },\n          { input: [v4a, v4b, True], expected: v4b },\n        ],\n      },\n    };\n    const overload = overloads[t.params.overload];\n\n    run(\n      t,\n      builtin('select'),\n      [overload.type, overload.type, TypeBool],\n      overload.type,\n      t.params,\n      overload.cases\n    );\n  });\n\ng.test('vector')\n  .specURL('https://www.w3.org/TR/WGSL/#logical-builtin-functions')\n  .desc(`vector tests`)\n  .params(u =>\n    u\n      .combine('storageClass', ['uniform', 'storage_r', 'storage_rw'] as const)\n      .combine('component', ['b', 'f', 'i', 'u'] as const)\n      .combine('overload', ['vec2', 'vec3', 'vec4'] as const)\n  )\n  .fn(async t => {\n    const componentType = dataType[t.params.component as scalarKind].type;\n    const cons = dataType[t.params.component as scalarKind].constructor;\n\n    // Create the scalar values that will be selected from.\n    //\n    // Each boolean will select between c[k] and c[k+4].  Those values must\n    // always compare as different.  The tricky case is boolean, where the parity\n    // has to be different, i.e. c[k]-c[k+4] must be odd.\n    const c = [0, 1, 2, 3, 5, 6, 7, 8].map(i => cons(i));\n    const T = True;\n    const F = False;\n\n    let tests: { dataType: VectorType; boolType: VectorType; cases: CaseList };\n\n    switch (t.params.overload) {\n      case 'vec2': {\n        const a = vec2(c[0], c[1]);\n        const b = vec2(c[4], c[5]);\n        tests = {\n          dataType: TypeVec(2, componentType),\n          boolType: TypeVec(2, TypeBool),\n          cases: [\n            { input: [a, b, vec2(F, F)], expected: vec2(a.x, a.y) },\n            { input: [a, b, vec2(F, T)], expected: vec2(a.x, b.y) },\n            { input: [a, b, vec2(T, F)], expected: vec2(b.x, a.y) },\n            { input: [a, b, vec2(T, T)], expected: vec2(b.x, b.y) },\n          ],\n        };\n        break;\n      }\n      case 'vec3': {\n        const a = vec3(c[0], c[1], c[2]);\n        const b = vec3(c[4], c[5], c[6]);\n        tests = {\n          dataType: TypeVec(3, componentType),\n          boolType: TypeVec(3, TypeBool),\n          cases: [\n            { input: [a, b, vec3(F, F, F)], expected: vec3(a.x, a.y, a.z) },\n            { input: [a, b, vec3(F, F, T)], expected: vec3(a.x, a.y, b.z) },\n            { input: [a, b, vec3(F, T, F)], expected: vec3(a.x, b.y, a.z) },\n            { input: [a, b, vec3(F, T, T)], expected: vec3(a.x, b.y, b.z) },\n            { input: [a, b, vec3(T, F, F)], expected: vec3(b.x, a.y, a.z) },\n            { input: [a, b, vec3(T, F, T)], expected: vec3(b.x, a.y, b.z) },\n            { input: [a, b, vec3(T, T, F)], expected: vec3(b.x, b.y, a.z) },\n            { input: [a, b, vec3(T, T, T)], expected: vec3(b.x, b.y, b.z) },\n          ],\n        };\n        break;\n      }\n      case 'vec4': {\n        const a = vec4(c[0], c[1], c[2], c[3]);\n        const b = vec4(c[4], c[5], c[6], c[7]);\n        tests = {\n          dataType: TypeVec(4, componentType),\n          boolType: TypeVec(4, TypeBool),\n          cases: [\n            { input: [a, b, vec4(F, F, F, F)], expected: vec4(a.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(F, F, F, T)], expected: vec4(a.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(F, F, T, F)], expected: vec4(a.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(F, F, T, T)], expected: vec4(a.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(F, T, F, F)], expected: vec4(a.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(F, T, F, T)], expected: vec4(a.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(F, T, T, F)], expected: vec4(a.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(F, T, T, T)], expected: vec4(a.x, b.y, b.z, b.w) },\n            { input: [a, b, vec4(T, F, F, F)], expected: vec4(b.x, a.y, a.z, a.w) },\n            { input: [a, b, vec4(T, F, F, T)], expected: vec4(b.x, a.y, a.z, b.w) },\n            { input: [a, b, vec4(T, F, T, F)], expected: vec4(b.x, a.y, b.z, a.w) },\n            { input: [a, b, vec4(T, F, T, T)], expected: vec4(b.x, a.y, b.z, b.w) },\n            { input: [a, b, vec4(T, T, F, F)], expected: vec4(b.x, b.y, a.z, a.w) },\n            { input: [a, b, vec4(T, T, F, T)], expected: vec4(b.x, b.y, a.z, b.w) },\n            { input: [a, b, vec4(T, T, T, F)], expected: vec4(b.x, b.y, b.z, a.w) },\n            { input: [a, b, vec4(T, T, T, T)], expected: vec4(b.x, b.y, b.z, b.w) },\n          ],\n        };\n        break;\n      }\n    }\n\n    run(\n      t,\n      builtin('select'),\n      [tests.dataType, tests.dataType, tests.boolType],\n      tests.dataType,\n      t.params,\n      tests.cases\n    );\n  });\n"],"file":"select.spec.js"}