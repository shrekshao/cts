{"version":3,"sources":["../../../../src/webgpu/web_platform/reftests/canvas_clear.html.ts"],"names":["runRefTest","t","canvas","document","getElementById","ctx","getContext","configure","device","format","colorAttachment","getCurrentTexture","colorAttachmentView","createView","encoder","createCommandEncoder","pass","beginRenderPass","colorAttachments","view","loadValue","r","g","b","a","storeOp","endPass","queue","submit","finish"],"mappings":";AAAA;AACA,GADA,SAASA,UAAT,QAA2B,mBAA3B,CAEAA,UAAU,CAAC,MAAMC,CAAN,IAAW;AACpB,QAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAf;;AAEA,QAAMC,GAAG,GAAIH,MAAM,CAACI,UAAP,CAAkB,QAAlB,CAAb;AACAD,EAAAA,GAAG,CAACE,SAAJ,CAAc;AACZC,IAAAA,MAAM,EAAEP,CAAC,CAACO,MADE;AAEZC,IAAAA,MAAM,EAAE,YAFI,EAAd;;;AAKA,QAAMC,eAAe,GAAGL,GAAG,CAACM,iBAAJ,EAAxB;AACA,QAAMC,mBAAmB,GAAGF,eAAe,CAACG,UAAhB,EAA5B;;AAEA,QAAMC,OAAO,GAAGb,CAAC,CAACO,MAAF,CAASO,oBAAT,EAAhB;AACA,QAAMC,IAAI,GAAGF,OAAO,CAACG,eAAR,CAAwB;AACnCC,IAAAA,gBAAgB,EAAE;AAChB;AACEC,MAAAA,IAAI,EAAEP,mBADR;AAEEQ,MAAAA,SAAS,EAAE,EAAEC,CAAC,EAAE,GAAL,EAAUC,CAAC,EAAE,GAAb,EAAkBC,CAAC,EAAE,GAArB,EAA0BC,CAAC,EAAE,GAA7B,EAFb;AAGEC,MAAAA,OAAO,EAAE,OAHX,EADgB,CADiB,EAAxB,CAAb;;;;AASAT,EAAAA,IAAI,CAACU,OAAL;AACAzB,EAAAA,CAAC,CAACO,MAAF,CAASmB,KAAT,CAAeC,MAAf,CAAsB,CAACd,OAAO,CAACe,MAAR,EAAD,CAAtB;AACD,CAxBS,CAAV","sourcesContent":["import { runRefTest } from './gpu_ref_test.js';\n\nrunRefTest(async t => {\n  const canvas = document.getElementById('gpucanvas') as HTMLCanvasElement;\n\n  const ctx = (canvas.getContext('webgpu') as unknown) as GPUCanvasContext;\n  ctx.configure({\n    device: t.device,\n    format: 'bgra8unorm',\n  });\n\n  const colorAttachment = ctx.getCurrentTexture();\n  const colorAttachmentView = colorAttachment.createView();\n\n  const encoder = t.device.createCommandEncoder();\n  const pass = encoder.beginRenderPass({\n    colorAttachments: [\n      {\n        view: colorAttachmentView,\n        loadValue: { r: 0.0, g: 1.0, b: 0.0, a: 1.0 },\n        storeOp: 'store',\n      },\n    ],\n  });\n  pass.endPass();\n  t.device.queue.submit([encoder.finish()]);\n});\n"],"file":"canvas_clear.html.js"}