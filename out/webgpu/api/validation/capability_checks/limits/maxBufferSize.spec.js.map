{"version":3,"file":"maxBufferSize.spec.js","names":["kLimitBaseParams","makeLimitTestGroup","limit","g","description","test","desc","params","fn","t","limitTest","testValueName","testDeviceWithRequestedLimits","device","testValue","actualLimit","shouldError","testForValidationErrorWithPossibleOutOfMemoryError","buffer","createBuffer","usage","GPUBufferUsage","VERTEX","size","destroy"],"sources":["../../../../../../src/webgpu/api/validation/capability_checks/limits/maxBufferSize.spec.ts"],"sourcesContent":["import { kLimitBaseParams, makeLimitTestGroup } from './limit_utils.js';\n\nconst limit = 'maxBufferSize';\nexport const { g, description } = makeLimitTestGroup(limit);\n\ng.test('createBuffer,at_over')\n  .desc(`Test using at and over ${limit} limit`)\n  .params(kLimitBaseParams)\n  .fn(async t => {\n    const { limitTest, testValueName } = t.params;\n    await t.testDeviceWithRequestedLimits(\n      limitTest,\n      testValueName,\n      async ({ device, testValue, actualLimit, shouldError }) => {\n        await t.testForValidationErrorWithPossibleOutOfMemoryError(\n          () => {\n            const buffer = device.createBuffer({\n              usage: GPUBufferUsage.VERTEX,\n              size: testValue,\n            });\n            buffer.destroy();\n          },\n          shouldError,\n          `size: ${testValue}, limit: ${actualLimit}`\n        );\n      }\n    );\n  });\n"],"mappings":";AAAA;AAAA,GAAA,SAASA,gBAAgB,EAAEC,kBAAkB,QAAQ,kBAAkB,CAEvE,MAAMC,KAAK,GAAG,eAAe;AAC7B,OAAO,MAAM,EAAEC,CAAC,EAAEC,WAAW,CAAC,CAAC,GAAGH,kBAAkB,CAACC,KAAK,CAAC;;AAE3DC,CAAC,CAACE,IAAI,CAAC,sBAAsB,CAAC;AAC3BC,IAAI,CAAE,0BAAyBJ,KAAM,QAAO,CAAC;AAC7CK,MAAM,CAACP,gBAAgB,CAAC;AACxBQ,EAAE,CAAC,OAAMC,CAAC,KAAI;EACb,MAAM,EAAEC,SAAS,EAAEC,aAAa,CAAC,CAAC,GAAGF,CAAC,CAACF,MAAM;EAC7C,MAAME,CAAC,CAACG,6BAA6B;EACnCF,SAAS;EACTC,aAAa;EACb,OAAO,EAAEE,MAAM,EAAEC,SAAS,EAAEC,WAAW,EAAEC,WAAW,CAAC,CAAC,KAAK;IACzD,MAAMP,CAAC,CAACQ,kDAAkD;IACxD,MAAM;MACJ,MAAMC,MAAM,GAAGL,MAAM,CAACM,YAAY,CAAC;QACjCC,KAAK,EAAEC,cAAc,CAACC,MAAM;QAC5BC,IAAI,EAAET;MACR,CAAC,CAAC;MACFI,MAAM,CAACM,OAAO,EAAE;IAClB,CAAC;IACDR,WAAW;IACV,SAAQF,SAAU,YAAWC,WAAY,EAAC,CAC5C;;EACH,CAAC,CACF;;AACH,CAAC,CAAC"}