{"version":3,"sources":["../../../../../src/webgpu/api/operation/adapter/requestAdapterInfo.spec.ts"],"names":["description","Fixture","makeTestGroup","getGPU","assert","g","normalizedIdentifierRegex","test","desc","fn","t","gpu","adapter","requestAdapter","adapterInfo","requestAdapterInfo","expect","vendor","architecture","device","unimplemented"],"mappings":";AAAA;AACA,GADA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA;AACA;AACA;AACA,CALO,CAOP,SAASC,OAAT,QAAwB,yCAAxB;AACA,SAASC,aAAT,QAA8B,4CAA9B;AACA,SAASC,MAAT,QAAuB,0CAAvB;AACA,SAASC,MAAT,QAAuB,iCAAvB;;AAEA,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACD,OAAD,CAAvB;;AAEP,MAAMK,yBAAyB,GAAG,6BAAlC;;AAEAD,CAAC,CAACE,IAAF,CAAO,cAAP;AACGC,IADH;AAEK;AACL;AACA;AACA,6EALA;;AAOGC,EAPH,CAOM,OAAMC,CAAN,KAAW;AACb,QAAMC,GAAG,GAAGR,MAAM,EAAlB;AACA,QAAMS,OAAO,GAAG,MAAMD,GAAG,CAACE,cAAJ,EAAtB;AACAT,EAAAA,MAAM,CAACQ,OAAO,KAAK,IAAb,CAAN;;AAEA,QAAME,WAAW,GAAG,MAAMF,OAAO,CAACG,kBAAR,EAA1B;;AAEAL,EAAAA,CAAC,CAACM,MAAF;AACEV,EAAAA,yBAAyB,CAACC,IAA1B,CAA+BO,WAAW,CAACG,MAA3C,CADF;AAEE,wDAFF;;;AAKAP,EAAAA,CAAC,CAACM,MAAF;AACEV,EAAAA,yBAAyB,CAACC,IAA1B,CAA+BO,WAAW,CAACI,YAA3C,CADF;AAEE,8DAFF;;;AAKAR,EAAAA,CAAC,CAACM,MAAF;AACEV,EAAAA,yBAAyB,CAACC,IAA1B,CAA+BO,WAAW,CAACK,MAA3C,CADF;AAEE,wDAFF;;AAID,CA5BH;;AA8BAd,CAAC,CAACE,IAAF,CAAO,yBAAP;AACGC,IADH;AAEK;AACL;AACA;AACA,mCALA;;AAOGY,aAPH","sourcesContent":["export const description = `\nTests various ways of calling GPUAdapter.requestAdapterInfo.\n\nTODO:\n- Find a way to perform tests with and without user activation\n`;\n\nimport { Fixture } from '../../../../common/framework/fixture.js';\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { getGPU } from '../../../../common/util/navigator_gpu.js';\nimport { assert } from '../../../../common/util/util.js';\n\nexport const g = makeTestGroup(Fixture);\n\nconst normalizedIdentifierRegex = /^$|^[a-z0-9]+(-[a-z0-9]+)*$/;\n\ng.test('adapter_info')\n  .desc(\n    `\n  Test that calling requestAdapterInfo with no arguments:\n    - Returns a GPUAdapterInfo structure\n    - Every member in the structure except description is properly formatted`\n  )\n  .fn(async t => {\n    const gpu = getGPU();\n    const adapter = await gpu.requestAdapter();\n    assert(adapter !== null);\n\n    const adapterInfo = await adapter.requestAdapterInfo();\n\n    t.expect(\n      normalizedIdentifierRegex.test(adapterInfo.vendor),\n      'adapterInfo.vendor should be a normalized identifier'\n    );\n\n    t.expect(\n      normalizedIdentifierRegex.test(adapterInfo.architecture),\n      'adapterInfo.architecture should be a normalized identifier'\n    );\n\n    t.expect(\n      normalizedIdentifierRegex.test(adapterInfo.device),\n      'adapterInfo.device should be a normalized identifier'\n    );\n  });\n\ng.test('adapter_info_with_hints')\n  .desc(\n    `\n  Test that calling requestAdapterInfo with hints:\n    - Rejects without user activation\n    - Succeed with user activation`\n  )\n  .unimplemented();\n"],"file":"requestAdapterInfo.spec.js"}